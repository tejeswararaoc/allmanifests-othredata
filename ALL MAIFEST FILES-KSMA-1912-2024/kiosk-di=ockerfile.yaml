# Start with a base image containing Java runtime (Java 17)
FROM openjdk:17-jdk-alpine
ARG JAR_FILE=target/*.jar
ARG SPRING_APPLICATION_NAME
ARG SPRING_PROFILE
ARG LOCALHOST
ARG SWAGGER_DEV_HOST
ARG SWAGGER_TEST_HOST


ENV SPRING_APPLICATION_NAME=${SPRING_APPLICATION_NAME}
ENV SPRING_PROFILE=${SPRING_PROFILE}
ENV LOCALHOST=${LOCALHOST}
ENV SWAGGER_TEST_HOST=${SWAGGER_TEST_HOST}
ENV SWAGGER_DEV_HOST=${SWAGGER_DEV_HOST}


WORKDIR /applications/kiosk
ADD ${JAR_FILE} kiosk.jar
EXPOSE 8765
ENTRYPOINT ["java",  "-jar", "kiosk.jar"]